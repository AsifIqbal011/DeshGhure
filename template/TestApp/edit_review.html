{% extends 'base.html' %}
{% block content %}
{% load static %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="review-form">
             <h2 class="mb-4 text-center form-title">Share Your Travel Experience</h2>
                <form action="#" method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="location" class="form-label">Location</label>
                        <input type="text" name="location" value="{{ review.location }}" required id="location" class="form-control" required>
                    </div>
                    <div class="mb-3">
                        <label for="rating" class="form-label">Rating (1 - 5)</label>
                        <input type="number" name="rating" value="{{ review.rating }}" id="rating" class="form-control" min="1" max="5" step="0.5" required>
                    </div>
                    <div class="mb-3">
                        <label for="details" class="form-label">Your Review</label>
                        <textarea name="details" id="details" rows="5" class="form-control" placeholder="Write your experience..." required>{{ review.details }}</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="review_img" class="form-label">Upload Image</label>
                        <input type="file" name="review_img" id="review_img" class="form-control" accept="image/*" onchange="previewImage(event)">
                        <img id="preview" style="max-width: 300px; margin-top: 10px; display: none;">


                    </div>
                    <button type="submit" class="btn btn-primary w-100">Update Review</button>
                    <a href="{% url 'my_reviews' %}" class="btn btn-secondary mt-2">Cancel</a>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    function previewImage(event) {
      const preview = document.getElementById('preview');
      preview.src = URL.createObjectURL(event.target.files[0]);
      preview.style.display = 'block';
    }
  </script>
{% endblock %}
